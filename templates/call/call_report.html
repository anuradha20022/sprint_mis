{% extends 'base.html' %}
{%  block content_heading %}Call Report Master{% endblock %}
{%  block content_subheading %}Call Report Master {% endblock %}
{% block title %} Call Report Master{% endblock %}

{% block script %}
    <script>


{% comment %}
        $('#call-report-details').DataTable({
            select: true,

            paging: true,
            lengthChange: true,
            "pageLength": 10,
            {#"lengthMenu": [[13, 25, 50, -1], [13, 25, 50, "All"]],#}
            searching: true,
            info: true, // bottom left info

             responsive: true,

             dom: 'Bfrtip',
              buttons: [ 'pageLength','excel'],
        {% if not call_report %}
            serverSide: true,
            processing: true,

            ajax: {
                url: "{% url 'call_reports' %}",
                type: "POST",
            },

            columns:[
                {data: "sno"},
                {data: "emp_id"},
                {data: "name"},
                {data: "unique_id"},
                {data: "category"},
                {data: "ref_type"},
                {data: "design"},
                {data: "contact"},
                {data: "date"},
                {data: "location"},
                {data: "branch"},

            ],
        {% endif %}
        });
{% endcomment %}

    </script>
{% endblock %}

{% block body %}
        <style>

    .table td{
        padding: 5px!important;
    }

.table-responsive {
  display: block;
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
.table-responsive > .table-bordered {
  border: 0;
}
    .dataTables_wrapper {
        padding: 0!important;

    }

    </style>
    <form action="" method="POST" autocomplete="off">
 {% csrf_token %}
     <div class="row">
         <div class="col-md-4">
               <div class="form-group">
                <input type="text" name="date_d" class="form-control daterange-shawCalRanges">
               </div>
            </div>
          <div class="col-md-2">
             <button type="submit" name="Submit" class="btn btn-lg btn-success">Submit</button>
         </div>

     </div>

  </form>

{#    {% if call_report %}#}
    <div class="row">
     <div class="col-md-12">
     <div class="card card-body">

            <div class="table-responsive">
                <table id="call-report-details" class="table table-striped table-bordered cus-responsive-datatable" style="white-space: nowrap">
                    <thead>
                    <tr role="row" style="background: #3F51B5; color: #fff;" >
                        <th class="py-2" data-orderable="false">#</th>
                        <th class="py-2" data-orderable="false">Emp ID</th>
                        <th class="py-2" data-orderable="false">Emp Name</th>
                        <th class="py-2" data-orderable="false">Unique ID</th>
                        <th class="py-2" data-orderable="false">Category</th>
                        <th class="py-2" data-orderable="false">Referral Type</th>
                        <th class="py-2" data-orderable="false">Design</th>
                        <th class="py-2" data-orderable="false">Contact</th>
                        <th class="py-2" data-orderable="false">Date</th>
                        <th class="py-2">Location</th>
                        <th class="py-2" data-orderable="false">Branch</th>
                    </tr>
                    </thead>
                    <tbody>
{#                    {% if call_report %}#}
                     {% for user in call_report %}

                        <tr>
                            <td class="py-1 text-right" >{{ forloop.counter }}</td>
                            <td class="py-1">{{ user.emp_id}}</td>
                            <td class="py-1">{{ user.emp_name }}</td>
                            <td class="py-1">{{ user.unique_id}}</td>
                            <td class="py-1">{{ user.category}}</td>
                            <td class="py-1">{{ user.ref_type}}</td>
                            <td class="py-1">{{ user.design}}</td>
                            <td class="py-1">{{ user.contact}}</td>
                            <td class="py-1">{{ user.date}}</td>
                            <td class="py-1">{{ user.location}}</td>
                            <td class="py-1">{{ user.branch}}</td>
                        </tr>
                    {% endfor %}
{#                    {%  endif %}#}
                    </tbody>
                </table>

            </div>
     </div>
 </div>
    </div>
{% endblock %}